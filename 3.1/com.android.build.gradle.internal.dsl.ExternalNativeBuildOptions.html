<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>ExternalNativeBuildOptions - Android Plugin 3.1.0-dev DSL Reference</title><link type="text/css" rel="stylesheet" href="base.css"><link type="text/css" rel="stylesheet" href="docs.css"><link type="text/css" rel="stylesheet" href="dsl.css"><meta content="DocBook XSL Stylesheets V1.75.2" name="generator"><link rel="home" href="index.html" title="Android Plugin 3.1.0-dev DSL Reference"><link rel="up" href="index.html" title="Android Plugin 3.1.0-dev DSL Reference"><link rel="prev" href="com.android.build.gradle.internal.dsl.BaseFlavor.html" title="BaseFlavor - Android Plugin 3.1.0-dev DSL Reference"><link rel="next" href="com.android.build.gradle.internal.dsl.ExternalNativeCmakeOptions.html" title="ExternalNativeCmakeOptions - Android Plugin 3.1.0-dev DSL Reference"></head><body><div class="sidebar"><ul><li><a xmlns:xslthl="http://xslthl.sf.net" href="index.html" title="Android Plugin 3.1.0-dev DSL Reference">Home</a></li><li class="sidebarHeading selected">ExternalNativeBuildOptions</li><ul class="sections"><li><a xmlns:xslthl="http://xslthl.sf.net" href="com.android.build.gradle.internal.dsl.ExternalNativeBuildOptions.html#N11D9E" title="Properties">Properties</a></li></ul><li class="sidebarHeading">Extension types</li><li><a class="link" href="com.android.build.gradle.AppExtension.html"><code class="literal">AppExtension</code></a></li><li><a class="link" href="com.android.build.gradle.LibraryExtension.html"><code class="literal">LibraryExtension</code></a></li><li><a class="link" href="com.android.build.gradle.TestExtension.html"><code class="literal">TestExtension</code></a></li><li><a class="link" href="com.android.build.gradle.FeatureExtension.html"><code class="literal">FeatureExtension</code></a></li><li class="sidebarHeading">Configuration blocks</li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:aaptOptions(org.gradle.api.Action)"><code class="literal">aaptOptions { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:adbOptions(org.gradle.api.Action)"><code class="literal">adbOptions { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:buildTypes(org.gradle.api.Action)"><code class="literal">buildTypes { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:compileOptions(org.gradle.api.Action)"><code class="literal">compileOptions { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:dataBinding(org.gradle.api.Action)"><code class="literal">dataBinding { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:defaultConfig(org.gradle.api.Action)"><code class="literal">defaultConfig { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:dexOptions(org.gradle.api.Action)"><code class="literal">dexOptions { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:externalNativeBuild(org.gradle.api.Action)"><code class="literal">externalNativeBuild { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:jacoco(org.gradle.api.Action)"><code class="literal">jacoco { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:lintOptions(org.gradle.api.Action)"><code class="literal">lintOptions { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:packagingOptions(org.gradle.api.Action)"><code class="literal">packagingOptions { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:productFlavors(org.gradle.api.Action)"><code class="literal">productFlavors { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:signingConfigs(org.gradle.api.Action)"><code class="literal">signingConfigs { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:sourceSets(org.gradle.api.Action)"><code class="literal">sourceSets { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:splits(org.gradle.api.Action)"><code class="literal">splits { }</code></a></li><li><a class="link" href="com.android.build.gradle.BaseExtension.html#com.android.build.gradle.BaseExtension:testOptions(org.gradle.api.Action)"><code class="literal">testOptions { }</code></a></li></ul></div><div class="content"><div class="chapter"><div class="titlepage"><div><div><h1 xmlns:xslthl="http://xslthl.sf.net"><a name="com.android.build.gradle.internal.dsl.ExternalNativeBuildOptions"></a>ExternalNativeBuildOptions</h1></div></div></div><p>DSL object for per-variant CMake and ndk-build configurations, such as toolchain arguments and
compiler flags.

</p><pre class="programlisting">android {
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Similar to other properties in the defaultConfig block, you can override</span>
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// these properties for each product flavor you configure.</span>
    defaultConfig {
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// This block is different from the one you use to link Gradle</span>
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// to your CMake or ndk-build script.</span>
        externalNativeBuild {
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// For ndk-build, instead use the ndkBuild block.</span>
            cmake {
                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Passes optional arguments to CMake.</span>
                arguments <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-DANDROID_ARM_NEON=TRUE"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-DANDROID_TOOLCHAIN=clang"</span>

                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Sets a flag to enable format macro constants for the C compiler.</span>
                cFlags <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-D__STDC_FORMAT_MACROS"</span>

                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Sets optional flags for the C++ compiler.</span>
                cppFlags <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-fexceptions"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"-frtti"</span>

                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Specifies the library and executable targets from your CMake project</span>
                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// that Gradle should build.</span>
                targets <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"libexample-one"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"my-executible-demo"</span>
            }
        }
    }
}</pre><p>To enable external native builds and set the path to your CMake or ndk-build script, use
<a class="ulink" href="./com.android.build.gradle.internal.dsl.ExternalNativeBuild.html" target="_top"><code class="classname">ExternalNativeBuild</code></a>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="N11D9E"></a>Properties</h3></div></div></div><div xmlns:xslthl="http://xslthl.sf.net" class="table"><div class="table-contents"><table id="N11DA1"><thead><tr><td>Property</td><td>Description</td></tr></thead><tr><td><a class="link" href="com.android.build.gradle.internal.dsl.ExternalNativeBuildOptions.html#com.android.build.gradle.internal.dsl.ExternalNativeBuildOptions:cmake"><code class="literal">cmake</code></a></td><td><p>Encapsulates per-variant CMake configurations, such as compiler flags and toolchain
arguments.

</p></td></tr><tr><td><a class="link" href="com.android.build.gradle.internal.dsl.ExternalNativeBuildOptions.html#com.android.build.gradle.internal.dsl.ExternalNativeBuildOptions:ndkBuild"><code class="literal">ndkBuild</code></a></td><td><p>Encapsulates per-variant ndk-build configurations, such as compiler flags and toolchain
arguments.

</p></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="N11DBC"></a>Methods</h3></div></div></div><p>No methods</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="N11DC1"></a>Script blocks</h3></div></div></div><p>No script blocks</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="N11DC6"></a>Property details</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="signature"><a name="com.android.build.gradle.internal.dsl.ExternalNativeBuildOptions:cmake"></a><a class="ulink" href="./com.android.build.gradle.internal.dsl.ExternalNativeCmakeOptions.html" target="_top"><code class="classname">ExternalNativeCmakeOptions</code></a> <code class="literal">cmake</code></h4></div></div></div><p>Encapsulates per-variant CMake configurations, such as compiler flags and toolchain
arguments.

</p><p>To enable external native builds and set the path to your <code class="literal">CMakeLists.txt</code>
script, use <a class="ulink" href="./com.android.build.gradle.internal.dsl.CmakeOptions.html" target="_top"><code class="classname">CmakeOptions</code></a>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="signature"><a name="com.android.build.gradle.internal.dsl.ExternalNativeBuildOptions:ndkBuild"></a><a class="ulink" href="./com.android.build.gradle.internal.dsl.ExternalNativeNdkBuildOptions.html" target="_top"><code class="classname">ExternalNativeNdkBuildOptions</code></a> <code class="literal">ndkBuild</code></h4></div></div></div><p>Encapsulates per-variant ndk-build configurations, such as compiler flags and toolchain
arguments.

</p><p>To enable external native builds and set the path to your <code class="literal">Android.mk</code> script,
use <a class="ulink" href="./com.android.build.gradle.internal.dsl.NdkBuildOptions.html" target="_top"><code class="classname">NdkBuildOptions</code></a>.</p></div></div></div><div id="copyright">
                       Except as noted, this content is licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0</a>.
                       For details and restrictions, see the <a href="http://developer.android.com/license.html">Content License</a>.
                   </div></div></body></html>